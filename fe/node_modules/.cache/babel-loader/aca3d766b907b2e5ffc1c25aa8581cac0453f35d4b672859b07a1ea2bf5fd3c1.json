{"ast":null,"code":"import _regeneratorRuntime from\"D:/Ecom/fe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Ecom/fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import Header from\"../components/Header\";import Footer from\"../components/Footer\";import\"../css/policy.css\";import{Button}from\"react-bootstrap\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Complete=function Complete(){var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var cart,toNum,sum,formatter;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cart=localStorage.getItem(\"cart\")?JSON.parse(localStorage.getItem(\"cart\")):[];toNum=function toNum(str){return Number(str.split(' ')[0].replace(/\\./g,''));};sum=0;cart.forEach(function(x){sum+=toNum(x.product.priceOn)*x.num;});formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:'VND'});_context.next=7;return axios.post(\"http://localhost:8000/user/message-send\",{phoneTo:\"+84389895377\",bodyMessage:\"Qu\\xFD kh\\xE1ch \\u0111\\xE3 \\u0111\\u1EB7t h\\xE0ng th\\xE0nh c\\xF4ng \\u0111\\u01A1n h\\xE0ng Robot tr\\u1ECB gi\\xE1 \".concat(formatter.format(sum),\". THE FIFTH LABLE c\\u1EA3m \\u01A1n v\\xE0 h\\u1EB9n g\\u1EB7p l\\u1EA1i!\")});case 7:localStorage.setItem(\"cart\",JSON.stringify([]));window.dispatchEvent(new Event(\"storage\"));window.location.replace(\"http://localhost:3000\");case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"Policy-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Policy-container\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"img\",{src:require('./../img/success.jpg'),alt:\"\"}),/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\",color:\"#009B77\",textShadow:\"1px 1px\"},children:\"Ch\\xFAc m\\u1EEBng b\\u1EA1n \\u0111\\xE3 mua h\\xE0ng th\\xE0nh c\\xF4ng. Ch\\xFAng t\\xF4i s\\u1EBD g\\u1EEDi tin nh\\u1EAFn x\\xE1c nh\\u1EADn qua s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i trong gi\\xE2y l\\xE1t. M\\u1EDDi b\\u1EA1n quay v\\u1EC1 trang ch\\u1EE7!\"}),/*#__PURE__*/_jsx(Button,{variant:\"success\",style:{margin:\"20px\"},onClick:handleClick,children:\"X\\xE1c nh\\u1EADn\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Complete;","map":{"version":3,"names":["React","Header","Footer","Button","axios","Complete","handleClick","cart","localStorage","getItem","JSON","parse","toNum","str","Number","split","replace","sum","forEach","x","product","priceOn","num","formatter","Intl","NumberFormat","style","currency","post","phoneTo","bodyMessage","format","setItem","stringify","window","dispatchEvent","Event","location","textAlign","require","color","textShadow","margin"],"sources":["D:/Ecom/fe/src/pages/Complete.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"../css/policy.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Complete = () => {\r\n    \r\n\r\n    const handleClick=async ()=>{\r\n\r\n        const cart = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : [];\r\n        const toNum=(str)=>{\r\n            return Number(str.split(' ')[0].replace(/\\./g,''))\r\n           }\r\n          let sum=0;\r\n        \r\n\r\n        cart.forEach(x=>{\r\n        sum+=toNum(x.product.priceOn)*x.num\r\n        })\r\n          \r\n        const formatter = new Intl.NumberFormat('en-US', {\r\n            style: 'currency',\r\n            currency: 'VND',\r\n        \r\n          });\r\n        await axios.post(\"http://localhost:8000/user/message-send\", {\r\n      phoneTo: \"+84389895377\",\r\n      bodyMessage:\r\n        `Quý khách đã đặt hàng thành công đơn hàng Robot trị giá ${formatter.format(sum)}. THE FIFTH LABLE cảm ơn và hẹn gặp lại!`,\r\n    });\r\n\r\n    localStorage.setItem(\"cart\",JSON.stringify([]));\r\n    window.dispatchEvent(new Event(\"storage\"));\r\n        window.location.replace(\"http://localhost:3000\")\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"Policy-background\">\r\n        <div className=\"Policy-container\" style={{textAlign:\"center\"}}>\r\n          <img src={require('./../img/success.jpg')} alt='' />\r\n            <h1  style={{textAlign:\"center\",color:\"#009B77\",textShadow:\"1px 1px\"}}>Chúc mừng bạn đã mua hàng thành công. Chúng tôi sẽ gửi tin nhắn xác nhận qua số điện thoại trong giây lát. Mời bạn quay về trang chủ!</h1>\r\n            <Button variant=\"success\" style={{margin:\"20px\"}} onClick={handleClick}>Xác nhận</Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Complete;\r\n"],"mappings":"gNAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAO,mBAAmB,CAC1B,OAASC,MAAM,KAAQ,iBAAiB,CACxC,MAAOC,MAAK,KAAM,OAAO,CAAC,6IAG1B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAGnB,GAAMC,YAAW,4FAAC,kKAERC,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAG,EAAE,CACnFG,KAAK,CAAC,QAANA,MAAK,CAAEC,GAAG,CAAG,CACf,MAAOC,OAAM,CAACD,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CACnD,CAAC,CACEC,GAAG,CAAC,CAAC,CAGXV,IAAI,CAACW,OAAO,CAAC,SAAAC,CAAC,CAAE,CAChBF,GAAG,EAAEL,KAAK,CAACO,CAAC,CAACC,OAAO,CAACC,OAAO,CAAC,CAACF,CAAC,CAACG,GAAG,CACnC,CAAC,CAAC,CAEIC,SAAS,CAAG,GAAIC,KAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CAC7CC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KAEZ,CAAC,CAAC,uBACEvB,MAAK,CAACwB,IAAI,CAAC,yCAAyC,CAAE,CAC9DC,OAAO,CAAE,cAAc,CACvBC,WAAW,yHACkDP,SAAS,CAACQ,MAAM,CAACd,GAAG,CAAC,wEACpF,CAAC,CAAC,QAEFT,YAAY,CAACwB,OAAO,CAAC,MAAM,CAACtB,IAAI,CAACuB,SAAS,CAAC,EAAE,CAAC,CAAC,CAC/CC,MAAM,CAACC,aAAa,CAAC,GAAIC,MAAK,CAAC,SAAS,CAAC,CAAC,CACtCF,MAAM,CAACG,QAAQ,CAACrB,OAAO,CAAC,uBAAuB,CAAC,wDACnD,kBA3BKV,YAAW,0CA2BhB,CAEH,mBACE,wCACE,KAAC,MAAM,IAAG,cACV,YAAK,SAAS,CAAC,mBAAmB,uBAChC,aAAK,SAAS,CAAC,kBAAkB,CAAC,KAAK,CAAE,CAACgC,SAAS,CAAC,QAAQ,CAAE,wBAC5D,YAAK,GAAG,CAAEC,OAAO,CAAC,sBAAsB,CAAE,CAAC,GAAG,CAAC,EAAE,EAAG,cAClD,WAAK,KAAK,CAAE,CAACD,SAAS,CAAC,QAAQ,CAACE,KAAK,CAAC,SAAS,CAACC,UAAU,CAAC,SAAS,CAAE,4PAA2I,cACjN,KAAC,MAAM,EAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAE,CAACC,MAAM,CAAC,MAAM,CAAE,CAAC,OAAO,CAAEpC,WAAY,8BAAkB,GACvF,EACF,cAEN,KAAC,MAAM,IAAG,GACT,CAEP,CAAC,CAED,cAAeD,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}